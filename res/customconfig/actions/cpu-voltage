#!/system/xbin/bash

if [ "a$3" == "a" ]; then
	evalcmd='eval "echo \$CPUVOLT$2"';
	eval $evalcmd;
else
	evalcmd='eval "CPUVOLT$2=$3"';
	eval $evalcmd;
	evalcmd='eval "echo \$CPUVOLT$2"';
	eval $evalcmd;

	if [ "$CPUVOLT100" == "on" ]; then

		CPUVOLTA=`expr $CPUVOLT1 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTB=`expr $CPUVOLT2 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTC=`expr $CPUVOLT3 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTD=`expr $CPUVOLT4 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTE=`expr $CPUVOLT5 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTF=`expr $CPUVOLT6 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTG=`expr $CPUVOLT7 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTH=`expr $CPUVOLT8 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTI=`expr $CPUVOLT9 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTJ=`expr $CPUVOLT10 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTK=`expr $CPUVOLT11 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTL=`expr $CPUVOLT12 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTM=`expr $CPUVOLT13 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTN=`expr $CPUVOLT14 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTO=`expr $CPUVOLT15 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTP=`expr $CPUVOLT16 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTQ=`expr $CPUVOLT17 - $CPUVOLT0 + $CPUVOLT50`;
		CPUVOLTR=`expr $CPUVOLT18 - $CPUVOLT0 + $CPUVOLT50`;
	else

		CPUVOLTA=750;
		CPUVOLTB=775;
		CPUVOLTC=785;
		CPUVOLTD=795;
		CPUVOLTE=815;
		CPUVOLTF=825;
		CPUVOLTG=835;
		CPUVOLTH=860;
		CPUVOLTI=870;
		CPUVOLTJ=905;
		CPUVOLTK=920;
		CPUVOLTL=950;
		CPUVOLTM=995;
		CPUVOLTN=1050;
		CPUVOLTO=1065;
		CPUVOLTP=1080;
		CPUVOLTQ=1090;
		CPUVOLTR=1105;

	fi;

	echo "$CPUVOLTA $CPUVOLTB $CPUVOLTC $CPUVOLTD $CPUVOLTE $CPUVOLTF $CPUVOLTG $CPUVOLTH $CPUVOLTI $CPUVOLTJ $CPUVOLTK $CPUVOLTL $CPUVOLTM $CPUVOLTN $CPUVOLTO $CPUVOLTP $CPUVOLTQ $CPUVOLTR" > /sys/devices/system/cpu/cpu0/cpufreq/UV_mV_table;

fi;
